<!DOCTYPE html>
<html>

<head>
    <title>자바스크립트의 객체</title>
    <style>
    </style>
    <script>
        var obj1 = {};
        var arr1 = [];
        //alert(typeof(obj1));
        //alert(typeof(arr1));


        //속성 표현 
        //-> 속성이름 : 속성(자바스크립트의 데이터 6가지 종류)
        var person = {
            name: '소종원',
            age: 20,
            check: true,
            books: ['java의 정석', '이것이 자바다', '열혈자바'],
            eat: function(food) {
                alert(this.name+'이 '+food+'을/를 냠냠 먹는다.')
            } //객체의 속성의 타입이 함수인 경우 메소드라고 표현한다.
        };
        
        //동적으로 속성 추가
        person.job = 'programmer';
        person.hello = function() {
            alert('안녕하세요');
        }
        
        //person.hello();
        
        for(var key in person) {
            //alert(person[key]);
        }
        
        //객체의 속성 참조.
//        alert(person.name);
//        person.eat();
//        person.eat('사과');
        
        //생성자 함수 정의
        //함수의 이름(식별자)의 첫글자는 대문자로 쓴다.
        function Student(nameis,koris,engis,mathis) {
            
            this.name = nameis; //이름
            this.kor=koris; //국어점수
            this.eng=engis; //영어점수
            this.math=mathis; //수학점수
            
            //총점 계산 함수
            //this.getSum = function () {
              //return this.kor+this.eng+this.math;  
            //};
            //평균 계산 함수
            //this.getAvg = function() {
                //return this.getSum()/3;
            //};
            //결과 출력 함수
            //this.toString = function() {
                //return this.name+'     '+this.getSum()+'     '+this.getAvg()+'\n';
            //};
 
        }
        
        //공통으로 사용되는 메소드를 프로토타입으로 정의
        //->prototype에 메소드 정의
        Student.prototype.getSum = function() {
            return this.kor+this.eng+this.math;
        };
        Student.prototype.getAvg = function() {
            return this.getSum()/3;
        };
        Student.prototype.toString = function() {
            return this.name+'     '+this.getSum()+'     '+this.getAvg()+'\n';
        };
        
        
        //학생 정보를 저장하는 배열 생성.
        var students = [];
//        students.push({name:'홍길동0', kor:87, math:90, eng:87});
        students.push(new Student('홍길동0', 87,87,90));
        students.push(new Student('홍길동1', 43,56,30));
        students.push(new Student('홍길동2', 99,96,95));
        students.push(new Student('홍길동3', 31,34,10));
        students.push(new Student('홍길동4', 63,87,96));
        students.push(new Student('홍길동5', 76,54,63));
        students.push(new Student('홍길동6', 78,76,54));
        students.push(new Student('홍길동7', 56,93,87));
        students.push(new Student('홍길동8', 90,91,60));
        students.push(new Student('홍길동9', 89,49,79));
        
//        students.push({name:'홍길동1', kor:37, math:65, eng:65});
//        students.push({name:'홍길동2', kor:77, math:87, eng:45});
//        students.push({name:'홍길동3', kor:93, math:93, eng:76});
//        students.push({name:'홍길동4', kor:47, math:23, eng:23});
//        students.push({name:'홍길동5', kor:53, math:34, eng:45});
//        students.push({name:'홍길동6', kor:96, math:65, eng:34});
//        students.push({name:'홍길동7', kor:79, math:43, eng:35});
//        students.push({name:'홍길동8', kor:82, math:23, eng:53});
//        students.push({name:'홍길동9', kor:42, math:11, eng:15});
        
        //메소드를 추가.
//        for(var k in students) {
//            
//        //총점을 구하는 메소드 정의, 추가
//        students[k].getSum = function() {
//          return this.kor+this.math+this.eng;  
//        };
//        //평균을 구하는 메소드 정의, 추가
//        students[k].getAverage = function() {
//          return this.getSum()/3  
//        };
//            
//        }
        
        students.sort(function(left, right) {
            return right.getSum() - left.getSum();
        }).slice(0,3);
        
        students= students.slice(0,3);
        
        var output = '이름        총점     평균\n'
        for(var i=0; i<students.length; i++) {
//            output += students[i].name + '     ' + students[i].getSum() + '     ' + students[i].getAverage() + '\n';
            output += students[i].toString();
        };
        
        alert(output);
        

    </script>
</head>

<body></body></html>
